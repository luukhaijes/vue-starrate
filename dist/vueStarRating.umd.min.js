(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vueStarRating"]=t(require("vue")):e["vueStarRating"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(e=>(()=>{"use strict";var t={203:t=>{t.exports=e}},r={};function o(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}(()=>{o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.p=""})();var a={};return(()=>{if(o.d(a,{default:()=>x}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(o.p=t[1])}var r=o(203);const n={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},l=["id"],s=["offset"],u=(0,r.createElementVNode)("stop",{"stop-color":"#d2d5da",offset:"0%",id:"F1gst2"},null,-1),d=["fill"],c=(0,r.defineComponent)({__name:"IconStar",props:{offsetPercentage:{required:!1,default:0}},setup(e){const t=(0,r.computed)((()=>"F1g-"+parseFloat((100*Math.random()).toString()).toFixed(0)));return(o,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("svg",n,[(0,r.createElementVNode)("defs",null,[(0,r.createElementVNode)("linearGradient",{y2:"0%",x2:"100%",y1:"0%",x1:"0%",id:(0,r.unref)(t)},[(0,r.createElementVNode)("stop",{"stop-color":"#f9d949",offset:e.offsetPercentage+"%",id:"F1gst1"},null,8,s),u],8,l)]),(0,r.createElementVNode)("path",{fill:"url(#"+(0,r.unref)(t)+")",d:"M 30.335938 12.546875 L 20.164063 11.472656 L 16 2.132813 L 11.835938 11.472656 L 1.664063 12.546875 L 9.261719 19.394531 L 7.140625 29.398438 L 16 24.289063 L 24.859375 29.398438 L 22.738281 19.394531 Z"},null,8,d)]))}}),f=c,i=f,p=5,m=e=>{const t=(0,r.ref)([]),o=r=>{const o=5===e?r:r/2,a=Math.floor(o);let n=0;o%1!==0&&(n=Number(parseFloat((o%1).toString()).toFixed(2)));const l=100*n,s=[];for(let e=0;e<a;e++)s.push(100);s.push(l),[...Array(p).keys()].forEach((e=>{t.value[e]=s[e]}))};return{generate:o,starsSet:t}},v=(0,r.defineComponent)({__name:"StarRating",props:{modelValue:{type:Number,default:0},score:{type:Number,default:0},starSet:{type:Number,default:5}},emits:["valueChange","update:modelValue"],setup(e,{emit:t}){const o=e,a=(0,r.ref)(0),{starsSet:n,generate:l}=m(o.starSet),s=e=>{if(5===o.starSet){const r=e+1;t("valueChange",r),t("update:modelValue",r),a.value=r}},u=(e,t)=>{let r=e.target.dataset.star;if(r&&t){const e=+r;requestAnimationFrame((()=>{[...Array(p).keys()].forEach(((t,r)=>{n.value[r]=r<=e?100:0}))}))}else l(a.value)};return(0,r.watch)([()=>o.score,()=>o.modelValue],(e=>{l(e[1])})),(0,r.onMounted)((()=>{a.value=o.score||o.modelValue,l(a.value)})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{"data-test":"star-container",class:(0,r.normalizeClass)(["rating__container",{"rating__container--readonly":10===o.starSet}])},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(n),((e,o)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o,class:"rating__star"},[(0,r.createVNode)(i,{"data-test":"star","data-star":o,"offset-percentage":e,onMouseenter:t[0]||(t[0]=e=>u(e,!0)),onMouseleave:t[1]||(t[1]=e=>u(e,!1)),onClick:e=>s(o)},null,8,["data-star","offset-percentage","onClick"])])))),128))],2))}}),g=v,y=g,x=y})(),a=a["default"],a})()));
//# sourceMappingURL=vueStarRating.umd.min.js.map