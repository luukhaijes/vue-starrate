!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).vueStarRate=t(e.Vue)}(this,(function(e){"use strict";const t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},a=["id"],o=["offset"],r=e.createElementVNode("stop",{"stop-color":"#d2d5da",offset:"0%",id:"F1gst2"},null,-1),n=["fill"],l=e.defineComponent({__name:"IconStar",props:{offsetPercentage:{required:!1,default:0}},setup(l){const s=e.computed((()=>"F1g-"+parseFloat((100*Math.random()).toString()).toFixed(0)));return(u,d)=>(e.openBlock(),e.createElementBlock("svg",t,[e.createElementVNode("defs",null,[e.createElementVNode("linearGradient",{y2:"0%",x2:"100%",y1:"0%",x1:"0%",id:e.unref(s)},[e.createElementVNode("stop",{"stop-color":"#f9d949",offset:l.offsetPercentage+"%",id:"F1gst1"},null,8,o),r],8,a)]),e.createElementVNode("path",{fill:"url(#"+e.unref(s)+")",d:"M 30.335938 12.546875 L 20.164063 11.472656 L 16 2.132813 L 11.835938 11.472656 L 1.664063 12.546875 L 9.261719 19.394531 L 7.140625 29.398438 L 16 24.289063 L 24.859375 29.398438 L 22.738281 19.394531 Z"},null,8,n)]))}});return e.defineComponent({__name:"StarRating",props:{modelValue:{type:Number,default:0},score:{type:Number,default:0},starSet:{type:Number,default:5}},emits:["valueChange","update:modelValue"],setup(t,{emit:a}){const o=t,r=e.ref(0),{starsSet:n,generate:s}=(t=>{const a=e.ref([]);return{generate:e=>{const o=5===t?e:e/2,r=Math.floor(o);let n=0;o%1!=0&&(n=Number(parseFloat((o%1).toString()).toFixed(2)));const l=100*n,s=[];for(let t=0;t<r;t++)s.push(100);s.push(l),[...Array(5).keys()].forEach((e=>{a.value[e]=s[e]}))},starsSet:a}})(o.starSet),u=(e,t)=>{let a=e.target.dataset.star;if(a&&t){const e=+a;requestAnimationFrame((()=>{[...Array(5).keys()].forEach(((t,a)=>{n.value[a]=a<=e?100:0}))}))}else s(r.value)};return e.watch([()=>o.score,()=>o.modelValue],(e=>{s(e[1])})),e.onMounted((()=>{r.value=o.score||o.modelValue,s(r.value)})),(t,s)=>(e.openBlock(),e.createElementBlock("div",{"data-test":"star-container",class:e.normalizeClass(["rating__container",{"rating__container--readonly":10===o.starSet}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n),((t,n)=>(e.openBlock(),e.createElementBlock("div",{key:n,class:"rating__star"},[e.createVNode(l,{"data-test":"star","data-star":n,"offset-percentage":t,onMouseenter:s[0]||(s[0]=e=>u(e,!0)),onMouseleave:s[1]||(s[1]=e=>u(e,!1)),onClick:e=>(e=>{if(5===o.starSet){const t=e+1;a("valueChange",t),a("update:modelValue",t),r.value=t}})(n)},null,8,["data-star","offset-percentage","onClick"])])))),128))],2))}})}));
